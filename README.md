# Qt5landlords

## 项目简介

##### 实现单机斗地主小游戏，通过鼠标点击进行交互，实现抢、叫、出牌等功能，同两个机器人角色游戏，主要模块分为卡牌封装模块，玩家行为（分为用户和机器人）模块，出、叫牌分数统计模块，界面布局

## 主要工作/功能



##### 1.游戏界面通过Qt进行界面搭建 界 ，通过ui设计每个对象的位置

##### 2.在每次操作（抢地主、出牌等）之后进行按钮组切换，通过自己编写的类对按钮进行美化 按

##### 3.对自己牌面的牌排序显示以及鼠标点击行为，使用信号槽机制 信 处理游戏进行的逻辑关系，对触发的事件（如炸弹特效）进行处理

##### 4.使用子线程 子 操纵机器人玩家出、叫牌行为

##### 5.对玩家以及机器人玩家分数做统计显示

## 整体架构



# 单机斗地主结构

*类：卡牌类、玩家类、窗口类、游戏控制类、游戏策略类、线程类、音频类*

+++

<u>**卡牌类**</u>

- 单张卡牌==card==
- 多张卡牌==cards==

<u>**玩家类**</u>

- 玩家类--父类==Player==
- 机器人玩家--子类==Robot==
- 非机器人玩家--子类==UserPlayer==

**<u>窗口类</u>**

- 游戏开始加载动画窗口==Loading==
- 游戏主窗口==GamePanel==
- 单张卡牌窗口==CardPanel==
- 特效动画窗口==AnimationWindow==
- 游戏窗口中的按钮组窗口==ButtonGroup==
- 游戏结束玩家的成绩窗口==EndingPanel==
- 自定义按钮==MyButton==
- 游戏分数面板窗口==ScorePanel==

**<u>游戏策略类</u>**

- 出牌类==PlayHand==
- 游戏策略类==Strategy==

<u>**游戏控制类**</u>

- 游戏控制类==GameControl==

<u>**线程类**</u>

- 机器人玩家抢地主==RobotGrapLord==
- 机器人玩家出牌==RobotPlayhand==

<u>**音频类**</u>

- 控制播放游戏中的所有音频==BGMControl==

+++

## 注意事项

单张扑克牌Card，每张牌数据有==花色==和==点数==，把每张牌的数据和对应的图片分成两个类，分别是Card和CardPanel，便于管理，减少耦合。

CardPanel中保存==前景==和==背景==图片，Qt中加载（显示）图片信息一般是QPixmap类，对图片进行传输或者像素级的修改一般是QImage，使用绘图事件paintEvent画图，画图需要画家类（QPanter）的drawPixmap函数，调用update函数会自动调用paintEvent函数。

using Player::Player; 继承父类构造函数，就不需要再子类中再去写和父类一样的构造函数。

控制面板窗口ui，使用widget窗口，可以内嵌（没有边框），dialog不可以内嵌。

把分数面板窗口显示到主窗口，需要==类型提升==，把父类提升为子类。
